---
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";
import { capitalize } from "../utils";

const allBlogArticles: CollectionEntry<"blog">[] = await getCollection("blog");

const tags: string[] = allBlogArticles.flatMap(
  (article: any) => article.data.tags
);

const uniqueTags: string[] = [...new Set(tags)];
---

<footer class="bg-gradient-to-r from-[#134869] to-[#0a283e] text-gray-300">
  <div class="container mx-auto max-w-screen-xl px-8 py-16">
    <div class="grid grid-cols-1 gap-12 md:grid-cols-3 lg:grid-cols-4">
      <div class="md:col-span-1">
        <h3 class="text-2xl font-bold text-white mb-4">Scriptora</h3>
        <p class="text-sm text-gray-400 leading-relaxed">
          Sua dose diária de insights em tecnologia. Cobrimos as últimas
          tendências, tutoriais e matérias do mundo da tecnologia.
        </p>
      </div>

      <div>
        <h4 class="text-lg font-semibold text-white mb-4">Categorias</h4>
        <ul class="space-y-2 text-sm">
          {
            uniqueTags.map((tag) => (
              <li>
                <a
                  href={"/articles/tag/" + tag}
                  class="hover:text-white transition-colors duration-300"
                >
                  #{capitalize(tag)}
                </a>
              </li>
            ))
          }
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold text-white mb-4">Links Rápidos</h4>
        <ul class="space-y-2 text-sm">
          <li>
            <a
              href="/about"
              class="hover:text-white transition-colors duration-300">Sobre</a
            >
          </li>
          <li>
            <a
              href="#"
              class="hover:text-white transition-colors duration-300">Contato</a
            >
          </li>
          <li>
            <a
              href="#"
              class="hover:text-white transition-colors duration-300"
              >Política de Privacidade</a
            >
          </li>
          <li>
            <a
              href="#"
              class="hover:text-white transition-colors duration-300"
              >Mapa do Site</a
            >
          </li>
        </ul>
      </div>

      <div>
        <h4 class="text-lg font-semibold text-white mb-4">Siga-nos</h4>
        <div class="flex space-x-4">
          <a
            href="#"
            aria-label="E-mail"
            class="text-gray-400 hover:text-white transition-colors duration-300"
          >
            <i class="fa-solid fa-envelope fa-xl"></i>
          </a>
          <a
            href="#"
            aria-label="Twitter"
            class="text-gray-400 hover:text-white transition-colors duration-300"
          >
            <i class="fa-brands fa-twitter fa-xl"></i>
          </a>
          <a
            href="#"
            aria-label="Facebook"
            class="text-gray-400 hover:text-white transition-colors duration-300"
          >
            <i class="fa-brands fa-facebook fa-xl"></i>
          </a>
          <a
            href="#"
            aria-label="Instagram"
            class="text-gray-400 hover:text-white transition-colors duration-300"
          >
            <i class="fa-brands fa-instagram fa-xl"></i>
          </a>
        </div>
      </div>
    </div>

    <div
      class="mt-12 border-t border-gray-700 pt-8 text-center text-sm text-gray-400"
    >
      <p>
        &copy; {new Date().getFullYear()} Scriptora. Todos os direitos reservados.
      </p>
    </div>
  </div>
</footer>
